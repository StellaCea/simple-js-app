let pokemonRepository=function(){let e=[],t=$(".pokemon-list");function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("Pokemon is not correct")}function o(){return e}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.frontImageUrl=t.sprites.front_default,e.backImageUrl=t.sprites.back_default,e.height=t.height,e.types=t.types.map(e=>e.type.name).join(",")}).catch(function(e){console.error(e)})}function a(e){i(e).then(function(){var t;let n,o,i,a,l,s;t=e,n=$(".modal-body"),o=$(".modal-title"),n.empty(),o.text(t.name),i=$("<p>Height: "+t.height+"</p>"),a=$('<img class="pokemon-img" src="'+t.frontImageUrl+'"/>'),l=$('<img class="pokemon-img" src="'+t.backImageUrl+'"/>'),s=$("<p>Types: "+t.types+"</p>"),n.append(a),n.append(i),n.append(s),n.append(l),$(document).ready(function(){$(".loading").hide(),$(".spinner-border").hide()}),n.on("click",e=>{e.target===n&&r()})})}function r(){document.querySelector(".modal-container").classList.remove("is-visible")}return document.querySelector("#search-input"),addEventListener("input",function e(){let n=document.querySelector("#search-input").value.toLowerCase();t[0].childNodes.forEach(e=>{e.textContent.toLowerCase().includes(n.toLowerCase())?e.style.display="":e.style.display="none"})}),window.addEventListener("keydown",e=>{let t=document.querySelector(".modal-container");"Escape"===e.key&&t.classList.contains("is-visible")&&r()}),{add:n,getAll:o,addListItem:function e(n){let o=$('<li class="list-group-item"></li>'),i=$('<button class="pokemon-button btn btn-warning" data-target="#pokemon-modal" data-toggle="modal">'+n.name+"</button>");o.append(i),t.append(o),i.on("click",function(){a(n)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};n(t),console.log(t)})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});